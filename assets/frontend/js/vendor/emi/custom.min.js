function rangeValidator(t, e, n) { if (isNaN($.trim(t.value))) return !1; if (0 === $.trim(t.value).length) return !0; var a = parseFloat($.trim(t.value)); return isNaN(a) ? !1 : a < parseFloat(e) || a > parseFloat(n) ? !1 : !0 } function validateLoanAmount() { return P_loan = rangeValidator(document.getElementById("loanAmount_1"), 0, 5e7), P_loan ? !0 : !1 } function validateIntrestRate() { var t = parseFloat(document.getElementById("interestRate").value), e = t.toString().split("."); return !isNaN(t) && 10 > t && e.length > 1 && e[1].length > 2 && (document.getElementById("interestRate").value = parseFloat(t.toFixed(2))), R_loan = rangeValidator(document.getElementById("interestRate"), 8, 15), R_loan ? !0 : !1 } function validateYears() { return N_loan = rangeValidator(document.getElementById("loanYears"), 1, 30), N_loan ? !0 : !1 } function EMI(t, e, n) { var a = !1, o = validateIntrestRate(), l = validateYears(); if (formatter("loanAmount"), a = validateLoanAmount(), a && o && l) { var r = document.getElementById("loanAmount_1").value.toString().replace(/[,|\s|Rs.]+/gi, "") || 0, i = document.getElementById("interestRate").value, d = 12 * document.getElementById("loanYears").value; if (r.toString().length > 0 && (document.getElementById("principal").innerHTML = "Rs. " + NumberFormat(Math.round(r)).toString()), r.toString().length > 0 && i.toString().length > 0 && d.toString().length > 0 && 0 != d.toString()) { var u = CalculateEMI(r, i, d), m = u * d, s = m - r; document.getElementById("monthlyRepayment").innerHTML = "Rs. " + NumberFormat(u.toFixed(2)).toString(), tI = NumberFormat(s).toString(), tI1 = tI.indexOf(".") > -1 ? tI.slice(0, tI.indexOf(".") + 5) : tI, tAP = NumberFormat(m).toString(), tAP1 = tAP.indexOf(".") > -1 ? tAP.slice(0, tAP.indexOf(".") + 5) : tAP, document.getElementById("totalInterest").innerHTML = "Rs. " + tI.substr(0, tI.indexOf(".")), document.getElementById("totalAmountPayable").innerHTML = "Rs. " + tAP.substr(0, tI.indexOf(".")), document.getElementById("hdtotalInterest").innerHTML = tI1.replace(/,/gi, ""), document.getElementById("hdtotalAmountPayable").innerHTML = tAP1.replace(/,/gi, ""), ChartRefresh(Math.round(s), Math.round(r)) } } } function validate(t, e) { var n = t, a = n.attr("min"), o = n.attr("max"), l = e, r = n.data("index"), i = $('div.errorMsg[data-index="' + r + '"]'); return "1" == r && $("#loanAmount_1").val(l), isNaN(l) || (("1" == r || "3" == r) && l.toString().indexOf(".") > -1 ? !0 : !1) || l < parseFloat(a) || l > parseFloat(o) ? (i.addClass("tooltip"), n.addClass("error"), 0) : (i.removeClass("tooltip"), n.removeClass("error"), 1) } function isNumberKey(t, e) { var n = t.which ? t.which : t.keyCode; return 46 !== n || "loanAmount" !== e && "loanYears" !== e ? 8 != t.which && 0 != t.which && (t.which < 48 || t.which > 57) && 46 != n ? !1 : !0 : !1 } function formatter(t) { if (isNaN($.trim(document.getElementById(t).value))) { var e = validateLoanAmount(); if (!e) return rangeValidator(document.getElementById(t), 0, 5e7) } null != document.getElementById(t).value ? (document.getElementById(t).value = "Rs." + NumberFormat($.trim(document.getElementById(t).value)), x = $.trim(document.getElementById(t).value.toString()).replace(/[,]+/gi, ""), x = x.toString().replace(/Rs./gi, ""), document.getElementById(t + "_1").value = x) : document.getElementById(t + "_1").value = 0 } function tooltip_contents(t, e, n, a) { var o, l, r, i, d, u, m = this, s = m.config, c = s.tooltip_format_title || e, v = s.tooltip_format_name || function (t) { return t }, g = s.tooltip_format_value || n; for (l = 0; l < t.length; l++) t[l] && (t[l].value || 0 === t[l].value) && (o || (r = c ? c(t[l].x) : t[l].x, o = "<table class='" + m.CLASS.tooltip + "'>" + (r || 0 === r ? "<tr><th colspan='2'>" + r + "</th></tr>" : "")), d = v(t[l].name), i = g(t[l].value, t[l].ratio, t[l].id, t[l].index), u = m.levelColor ? m.levelColor(t[l].value) : a(t[l].id), o += "<tr class='" + m.CLASS.tooltipName + "-" + t[l].id + "'>", o += "<td><b>" + d + "</b><br/>Rs. " + i + "</td>", o += "</tr>"); return o + "</table>" } function ChartRefresh(t, e) { chart.load({ columns: [["Interest Payable", t], ["Principal", e]] }) } var P_loan = !1, R_loan = !1, N_loan = !1; $(".sliderRange").each(function () { var t = $(this); t.rangeslider({ polyfill: !1, onSlide: function (e, n) { var a = 0; 1 == t.data("index") ? ($("#loanAmount_1").val(n), a = n, n = "Rs. " + NumberFormat(n)) : a = t.val(); var o = $('input.sliderText[data-index="' + t.data("index") + '"]'); o.val(n), validate(o, a) }, onSlideEnd: function (t, e) { EMI() } }) }), $(".sliderText").each(function () { $(this).on("change", function () { var t = $(this); if (0 != validate(t, t.val())) { var e = t.data("index"), n = t.val(); $('input.sliderRange[data-index="' + e + '"]').val(n).change(), EMI() } }) }), $("#loanAmount").on("focus", function () { $(this), $(this).val($.trim($("#loanAmount_1").val()) || "0") }), $("#loanAmount").on("blur", function () { var t = $(this); isNaN(t.val()) ? $("#loanAmount_1").val(t.val().replace(/[,|\s|Rs.]+/gi, "")) : t.val("Rs." + NumberFormat(t.val())) }); var chart = c3.generate({ data: { columns: [["Interest Payable", 3900519], ["Principal", 3e6]], type: "bar" }, axis: { x: { label: "Interest" }, y: { label: "Principal"} }, legend: { show: !1 }, tooltip: { format: { title: function (t) { return "" }, value: function (t, e, n) { return t } }, contents: tooltip_contents} }); EMI(), $(function () { $("#Other,#Select1").change(function () { return $(this).val().indexOf("http") > -1 ? (window.open($(this).val(), "_blank"), !1) : void 0 }), $(".nav-header .menu li").on("click", function () { var t = $(this).children("a:first"); if ($(document).width() < 980) { var e = t.prop("href"); window.open(e) } }) });